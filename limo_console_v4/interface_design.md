# LIMO控制台界面设计

## 整体布局
控制台界面将分为三个主要部分：
1. 左侧：模块按钮面板
2. 右上：LIMO状态显示面板
3. 右下：命令行状态面板

## 左侧模块按钮面板
- 采用垂直滚动区域，包含所有功能模块按钮
- 每个模块包含标题、选项（如果有）和操作按钮
- 模块按钮布局采用卡片式设计，提高视觉区分度
- 模块包括：
  - Gmapping建图
  - Cartographer建图
  - 检查雷达数据
  - 雷达导航
  - 控制方式
  - 集成控制
  - 基础节点
  - 路径巡检
  - 摄像头控制
  - 摄像头建图
  - 摄像头导航
  - 文字识别
  - 红绿灯识别
  - 语音转文字
  - 语音控制
  - RViz

## 右上LIMO状态显示面板
- 显示LIMO底盘的实时状态数据
- 包含roscore状态检测指示器
- 状态数据包括：
  - 电池电压
  - 运动模式（差速/阿克曼/麦轮）
  - 控制模式（遥控/命令）
  - 线速度
  - 角速度
  - 横向速度
  - 转向角度
  - 错误代码
- 数据显示方式：
  - 文本显示关键数据
  - 图表显示历史趋势（电池电压、速度等）
- 数据来源切换机制：
  - 当roscore未启动：使用pylimo库直接读取底盘数据
  - 当roscore已启动：释放串口，使用ROS话题订阅方式获取数据

## 右下命令行状态面板
- 显示命令执行的输出和状态
- 包含清空按钮
- 不同类型的消息使用不同颜色区分：
  - 信息：蓝色
  - 警告：黄色
  - 错误：红色
  - 普通输出：白色

## roscore检测机制
- 定期检查roscore是否运行
- 检测方法：
  1. 尝试使用`rostopic list`命令
  2. 检查返回状态码
  3. 根据状态码判断roscore是否运行
- 状态切换逻辑：
  - 初始状态：使用pylimo库读取数据
  - 检测到roscore启动：释放串口，切换到ROS话题订阅
  - 检测到roscore关闭：重新初始化pylimo库，切换回直接读取

## 数据读取方式切换
- pylimo库读取（roscore未启动时）：
  - 直接使用pylimo库的API读取底盘数据
  - 数据包括：电池电压、运动模式、控制模式、速度等
- ROS话题订阅（roscore启动时）：
  - 订阅相关话题获取底盘数据
  - 主要话题：
    - `/limo_status`：底盘状态
    - `/cmd_vel`：速度命令
    - 其他相关话题

## 界面风格
- 整体采用现代化、扁平化设计
- 配色方案：
  - 主色调：蓝色系
  - 强调色：橙色
  - 背景色：浅灰色
  - 文本色：深灰色
- 字体：
  - 标题：微软雅黑，粗体
  - 正文：微软雅黑，常规
- 组件样式：
  - 按钮：圆角矩形，悬停效果
  - 面板：卡片式，带阴影
  - 状态指示：使用图标和颜色区分不同状态
